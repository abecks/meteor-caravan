@import "/client/bootstrap/less/bootstrap.lessimport";
@import "/client/bootstrap/less/responsive.lessimport";

body {
  padding-top: 80px;
  background-color: #ede3da;
}

#match {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: url('/images/wood.jpg');
  background-size: cover;
  color: #fff;
  overflow: hidden;
  border-right: 200px solid transparent;
  .box-sizing(border-box);
}

#sidebar {
  position: absolute;
  right: 0;
  top: 0;
  height: 100%;
  width: 200px;
  background: #ede3da;
  .box-sizing(border-box);
  padding-top: @navbarHeight;

  .match-details {
    background: #4a2713;
    color: #FFCA84;
    padding: 20px;
    font-family: 'Patrick Hand', cursive;
    .box-shadow(3px 0 6px rgba(0,0,0,0.5));

    .match-details-players {
      text-align: center;
      font-size: 1.4em;
      line-height: 1em;
      white-space: nowrap;
      overflow: hidden;
      position: relative;

      .versus {
        color: #e6c79e;
        line-height: 1.4em;
      }
    }
  }

  #chat {
    .box-sizing(border-box);
    border: 20px solid transparent;
    border-right-width: 0px;
    padding-right: 20px;
    padding-top: 20px;
    border-top: 155px solid transparent;
    border-bottom: 80px solid transparent;
    position: absolute;
    top: 0;
    left: 0;
    overflow: hidden;
    overflow-y: auto;
    height: 100%;
    scrollbar-track-color: red;
    ::-webkit-scrollbar-track {

      background-color: red;
    }

    #chat-messages {
      list-style: none;
      margin: 0;

      .chat-message {
        margin-bottom: 10px;

        .message-content {

        }
      }
    }

  }

  #chat-input {
    position: absolute;
    bottom: 10px;
    left: 10px;
    width: 165px;
    height: 40px;
    resize: none;
    margin: 0;
  }

}

#gameboard {

}

#deck {
  position: absolute;
  bottom: -6vh;
  left: 0;
  width: 100%;
  text-align: center;

  -webkit-transition: all 0.3s;
  -moz-transition: all 0.3s;
  transition: all 0.3s;
  opacity: 0.5;
  .translate3d(0, 20%, 0);

  &.your-turn {
    .translate3d(0, 0, 0);
    opacity: 1;
  }
}

@cardSizeRatio: 2;

.caravans {
  .clearfix();

  .caravan {
    float: left;
    width: 32.99%;
    text-align: center;
    position: relative;

    &-label {
      font-size: 16px;
      line-height: 1;
      color: rgba(233, 233, 233, 1);
      padding: 0.5vh 0;
    }

    .caravan-label {
      font-family: 'Gochi Hand', cursive;
      font-size: 2em;
      color: rgba(99, 33, 5, 0.9);
      display: block;
      margin: 0 auto;
      width: 150px;
      white-space: nowrap;
      text-align: left;
    }
    .caravan-label-top {
      padding-top: 2vh;
    }
    .caravan-label-bottom {
      padding-bottom: 2vh;
    }

    .player1-value,
    .player2-value {
      font-family: 'Patrick Hand', cursive;
      color: #fff;

      text-shadow: 1px 1px 1px rgba(99, 33, 5, 0.9), -1px 1px 1px rgba(99, 33, 5, 0.9), -1px -1px 1px rgba(99, 33, 5, 0.9), 1px -1px 1px rgba(99, 33, 5, 0.9), 2px 2px 1px rgba(99, 33, 5, 0.9), -2px 2px 1px rgba(99, 33, 5, 0.9), -2px -2px 1px rgba(99, 33, 5, 0.9), 2px -2px 1px rgba(99, 33, 5, 0.9);

      font-weight: bold;
      display: inline-block;
      text-align: right;
      width: 35px;
      vertical-align: middle;
      margin-right: 0.1em;

      &.oversold {
        color: #FC433B;
      }
    }

    @stackPadding: 4vh;
    @stackPaddingHorizontal: 3vh;
    &-cards {
      .clearfix();
      position: relative;
      height: 44vh;

      .card {
        position: absolute;
        bottom: 0;
        margin-left: ((23vh / @cardSizeRatio) / 2) * -1;

        -webkit-transition: -webkit-transform 1s;
        -moz-transition: -moz-transform 1s;
        transition: transform 1s;

        &:nth-child(1n+2) {
          bottom: @stackPadding;
        }
        &:nth-child(1n+3) {
          bottom: @stackPadding * 2;
        }
        &:nth-child(1n+4) {
          bottom: @stackPadding * 3;
        }
        &:nth-child(1n+5) {
          bottom: @stackPadding * 4;
        }
        &:nth-child(1n+6) {
          bottom: @stackPadding * 5;
        }
        &:nth-child(1n+7) {
          bottom: @stackPadding * 6;
        }
        &:nth-child(1n+8) {
          bottom: @stackPadding * 7;
        }
        &:nth-child(1n+9) {
          bottom: @stackPadding * 8;
        }
        &:nth-child(1n+10) {
          bottom: @stackPadding * 9;
        }
        &:nth-child(1n+11) {
          bottom: @stackPadding * 10;
        }

        .card-modifiers {
          top: 0;
          margin: 0;
          bottom: 0;
          position: absolute;

          .card {
            top: 0 !important;
            bottom: auto;
            left: @stackPaddingHorizontal * -1;
            margin: 0;

            &:nth-child(1n+2) {
              left: @stackPaddingHorizontal * 2 * -1;
            }
            &:nth-child(1n+3) {
              left: @stackPaddingHorizontal * 3 * -1;
            }
            &:nth-child(1n+4) {
              left: @stackPaddingHorizontal * 4 * -1;
            }
            &:nth-child(1n+5) {
              left: @stackPaddingHorizontal * 5 * -1;
            }
            &:nth-child(1n+6) {
              left: @stackPaddingHorizontal * 6 * -1;
            }
            &:nth-child(1n+7) {
              left: @stackPaddingHorizontal * 7 * -1;
            }
            &:nth-child(1n+8) {
              left: @stackPaddingHorizontal * 8 * -1;
            }
            &:nth-child(1n+9) {
              left: @stackPaddingHorizontal * 9 * -1;
            }
            &:nth-child(1n+10) {
              left: @stackPaddingHorizontal * 10 * -1;
            }
            &:nth-child(1n+11) {
              left: @stackPaddingHorizontal * 11 * -1;
            }
          }
        }

      }

    }

    .caravan-bottom-cards {
      .card {
        bottom: auto;
        top: 0;

        &:nth-child(1n+2) {
          top: @stackPadding;
        }
        &:nth-child(1n+3) {
          top: @stackPadding * 2;
        }
        &:nth-child(1n+4) {
          top: @stackPadding * 3;
        }
        &:nth-child(1n+5) {
          top: @stackPadding * 4;
        }
        &:nth-child(1n+6) {
          top: @stackPadding * 5;
        }
        &:nth-child(1n+7) {
          top: @stackPadding * 6;
        }
        &:nth-child(1n+8) {
          top: @stackPadding * 7;
        }
        &:nth-child(1n+9) {
          top: @stackPadding * 8;
        }
        &:nth-child(1n+10) {
          top: @stackPadding * 9;
        }
        &:nth-child(1n+11) {
          top: @stackPadding * 10;
        }

        .card-modifiers {
          .card {
            left: @stackPaddingHorizontal;

            &:nth-child(1n+2) {
              left: @stackPaddingHorizontal * 2;
            }
            &:nth-child(1n+3) {
              left: @stackPaddingHorizontal * 3;
            }
            &:nth-child(1n+4) {
              left: @stackPaddingHorizontal * 4;
            }
            &:nth-child(1n+5) {
              left: @stackPaddingHorizontal * 5;
            }
            &:nth-child(1n+6) {
              left: @stackPaddingHorizontal * 6;
            }
            &:nth-child(1n+7) {
              left: @stackPaddingHorizontal * 7;
            }
            &:nth-child(1n+8) {
              left: @stackPaddingHorizontal * 8;
            }
            &:nth-child(1n+9) {
              left: @stackPaddingHorizontal * 9;
            }
            &:nth-child(1n+10) {
              left: @stackPaddingHorizontal * 10;
            }
            &:nth-child(1n+11) {
              left: @stackPaddingHorizontal * 11;
            }
          }
        }
      }
    }
  }
}

.card {
  color: #000;
  cursor: pointer;
  .box-shadow(~"0 0 3px rgba(0,0,0,0.5)");
  .border-radius(6px);
  display: inline-block;
  float: none;
  margin: 0;

  -webkit-transition: -webkit-transform 0.2s;
  -moz-transition: -moz-transform 0.2s;
  transition: transform 0.2s;

  width: 23vh / @cardSizeRatio;
  height: 32.4vh / @cardSizeRatio;

  .suit {
    font-size: 7.5vh / @cardSizeRatio;
    height: auto;
    line-height: 7vh / @cardSizeRatio;
    width: 3.5vh;
  }

  &.ten .corner .number {
    font-size: 3.6vh / @cardSizeRatio;
  }
  .corner {
    &.top {
      top: 1.3vh / @cardSizeRatio;
      left: 1vh / @cardSizeRatio;
      overflow: visible;
    }
    &.bottom {
      bottom: 1.3vh / @cardSizeRatio;
      right: 1vh / @cardSizeRatio;
      .rotate(180deg);
      overflow: visible;
    }
    .number {
      font-size: 3.6vh / @cardSizeRatio;
      line-height: 1;
      height: auto;
    }
    span {
      font-size: 3vh / @cardSizeRatio;
    }
  }

  .top_left,
  .middle_left,
  .bottom_left,
  .middle_bottom_left,
  .middle_top_left {
    left: 3.6vh / @cardSizeRatio;
  }

  .top_right,
  .middle_right,
  .bottom_right,
  .middle_bottom_right,
  .middle_top_right {
    right: 3.6vh / @cardSizeRatio;
  }

  .middle_top_left,
  .middle_top_right {
    top: 8.8vh / @cardSizeRatio;
  }

  .middle_bottom_left,
  .middle_bottom_right {
    bottom: 8.8vh / @cardSizeRatio;
  }

  .top_center,
  .top_left,
  .top_right {
    top: 2.8vh / @cardSizeRatio;
  }

  .top_center,
  .middle_center,
  .bottom_center,
  .middle_top,
  .middle_bottom,
  .middle_bottom_center,
  .middle_top_center {
    left: 50%;
    margin-left: (3.5vh / 2) * -1;
  }
  .middle_top {
    top: 8vh / @cardSizeRatio;
  }
  .middle_top_center {
    top: 6.4vh / @cardSizeRatio;
  }
  .middle_bottom_center {
    bottom: 6.4vh / @cardSizeRatio;
  }

  .middle_center,
  .middle_left,
  .middle_right {
    top: 12.5vh / @cardSizeRatio;
  }

  .middle_bottom {
    bottom: 7vh / @cardSizeRatio;
  }
  .bottom_center,
  .bottom_left,
  .bottom_right {
    bottom: 2.7vh / @cardSizeRatio;
  }

  .middle_bottom,
  .bottom_center,
  .bottom_left,
  .bottom_right {
    .rotate(180deg);
  }

  &.active {
    .translate3d(0, -20px, 0);
  }
}

.caravan-top-cards .card.slideIn {
  .translate3d(0, -350%, 0);
}

.caravan-bottom-cards .card.slideIn {
  .translate3d(0, 350%, 0);
}

#deck .card {
  margin-right: 0.5vw;

  &:last-child {
    margin-right: 0;
  }
}

.card-marker,
.card.show-marker:after {
  background: rgba(34, 213, 0, 0.51);
  box-shadow: none;
  -webkit-box-shadow: none;
  border: 0;
}

.setup .marker-stack {
  opacity: 1;
}

.setup .marker-stack:hover {
  opacity: 1;
}

.marker-stack.illegal-move {
  background: rgba(255, 0, 0, 0.48);
}

.card.show-marker:after {
  position: absolute;
  top: 0;
  left: 3vh;
  width: 100%;
  height: 100%;
  content: '';
  .border-radius(6px);
}

.match-prompt {
  position: absolute;
  top: 20vh;
  width: 100%;
  text-align: center;
  z-index: 5000;
  color: #fff;
  line-height: 1.4em;
  background: rgba(0, 0, 0, 0.5);
  padding: 2vh 0;

  .match-prompt-title {
    font-size: 5vh;
    line-height: 1.5em;
    margin-bottom: 2vh;
  }

  .invite-link {
    background: rgba(0, 0, 0, 0.5);
    border: 0;
  @include border-radius(0);
    color: #fff;
    text-shadow: none;
    box-shadow: none;
    vertical-align: middle;
    margin: -2px 0 0 0;
  }
}

.rte {
  max-width: 40em;
  font-size: 18px;
  line-height: 1.5em;
  margin: 0 auto 30px auto;

  ul {
    li {
      line-height: 1.5em;
    }
  }
}